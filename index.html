<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>地理大闯关 - 随机抽题</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            overflow-x: hidden;
            position: relative;
        }
        
        /* 卡通地球背景 */
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><circle cx="100" cy="100" r="80" fill="%231a2980" stroke="%2326d0ce" stroke-width="4"/><circle cx="70" cy="70" r="20" fill="%2326d0ce" opacity="0.3"/><circle cx="130" cy="120" r="15" fill="%2326d0ce" opacity="0.3"/><circle cx="110" cy="70" r="10" fill="%2326d0ce" opacity="0.3"/><circle cx="90" cy="130" r="12" fill="%2326d0ce" opacity="0.3"/></svg>');
            background-size: 300px 300px;
            z-index: -1;
            opacity: 0.2;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 20px;
            margin-top: 10px;
            text-align: center;
        }
        
        h1 {
            color: #1a2980;
            margin-bottom: 15px;
            font-size: 1.8rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            padding: 0 10px;
        }
        
        .question-display {
            min-height: 150px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 15px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            line-height: 1.5;
            color: #333;
            position: relative;
            overflow: hidden;
        }
        
        .selected {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(76, 175, 80, 0); }
            100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
        }
        
        .answer {
            color: #f44336;
            font-weight: bold;
            margin-top: 15px;
            font-size: 1.1rem;
            display: none;
            padding: 0 10px;
        }
        
        .timer {
            font-size: 2rem;
            font-weight: bold;
            color: #ff5722;
            margin: 10px 0;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
            display: none;
        }
        
        .speed-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            width: 100%;
            justify-content: center;
            padding: 0 10px;
        }
        
        .speed-control label {
            font-weight: bold;
            color: #1a2980;
            font-size: 0.9rem;
        }
        
        .speed-control input {
            width: 60%;
            max-width: 200px;
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-top: 15px;
            padding: 0 10px;
        }
        
        button {
            padding: 12px 20px;
            background-color: #2196f3;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            min-width: 140px;
        }
        
        button:hover, button:active {
            background-color: #0b7dda;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .stats {
            margin-top: 15px;
            color: #555;
            font-size: 0.85rem;
            padding: 0 10px;
        }
        
        .designer {
            margin-top: 20px;
            font-family: 'Comic Neue', cursive;
            font-size: 1.2rem;
            color: white;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }
        
        /* 移动端优化 */
        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            .question-display {
                font-size: 1.1rem;
                min-height: 130px;
                padding: 12px;
            }
            
            button {
                padding: 10px 15px;
                min-width: 120px;
                font-size: 0.9rem;
            }
            
            .speed-control {
                flex-direction: column;
                gap: 8px;
            }
            
            .speed-control input {
                width: 80%;
            }
            
            .timer {
                font-size: 1.8rem;
            }
        }
        
        /* 防止文本选择 */
        .question-display, button {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>地理大闯关—随机抽题</h1>
        
        <div class="timer" id="timer">10</div>
        
        <div class="question-display" id="questionDisplay">
            点击"开始抽题"按钮开始随机抽题
        </div>
        
        <div class="answer" id="answerDisplay"></div>
        
        <div class="speed-control">
            <label for="speedControl">滚动速度:</label>
            <input type="range" id="speedControl" min="50" max="500" value="200">
        </div>
        
        <div class="controls">
            <button id="startBtn">开始抽题</button>
            <button id="answerBtn">显示答案</button>
        </div>
        
        <div class="stats">
            已抽取题目: <span id="counter">0</span> | 题库总数: 78
        </div>
    </div>
    
    <div class="designer">设计人：吴嘉伦</div>

    <script>
        // 地理题库 - 已删除指定题目
        const questions = [
            // 纬度相关题目
            { question: "北纬30度属于哪个哪个半球？", answer: "北半球" },
            { question: "北纬15度属于哪个半球？", answer: "北半球" },
            { question: "北纬45度属于哪个半球？", answer: "北半球" },
            { question: "北纬60度属于哪个半球？", answer: "北半球" },
            { question: "南纬30度属于哪个半球？", answer: "南半球" },
            { question: "南纬15度属于哪个半球？", answer: "南半球" },
            { question: "南纬45度属于哪个半球？", answer: "南半球" },
            { question: "南纬60度属于哪个半球？", answer: "南半球" },
            { question: "赤道（0度纬线线）属于哪个半球？", answer: "既是北半球也是南半球" },
            
            // 经度相关题目
            { question: "西经10度属于哪个半球？", answer: "东半球" },
            { question: "西经30度属于哪个半球？", answer: "西半球" },
            { question: "西经170度属于哪个半球？", answer: "西半球" },
            { question: "东经10度属于哪个半球？", answer: "东半球" },
            { question: "东经30度属于哪个半球？", answer: "东半球" },
            { question: "东经170度属于哪个半球？", answer: "西半球" },
            
            // 地图三要素
            { question: "地图三要素有哪些？", answer: "方向、比例尺、图例和注记" },
            { question: "地图上用来表示方向的元素是什么？", answer: "指向标或经纬网" },
            { question: "地图上用来用来表示实际距离与图上距离比例的元素是什么？", answer: "比例尺" },
            { question: "地图上用来解释符号含义的元素是什么？", answer: "图例" },
            { question: "地图上的文字和数字说明称为什么？", answer: "注记" },
            
            // 地球自转和公转
            { question: "地球自转的方向是？", answer: "自西向东" },
            { question: "地球公转的周期是？", answer: "一年" },
            { question: "地球自转一周需要多长长时间？", answer: "约24小时（一天）" },
            { question: "地球公转产生了什么现象？", answer: "四季变化" },
            { question: "地球自转产生了什么现象？", answer: "昼夜夜交替" },
            
            // 经线纬线
            { question: "经线指示什么方向？", answer: "南北方向" },
            { question: "纬线指示什么方向？", answer: "东西方向" },
            { question: "0度经线又称为什么？", answer: "本初子午线" },
            { question: "0度纬线又称为什么？", answer: "赤道" },
            { question: "北纬90度位于哪里？", answer: "北极点" },
            { question: "南纬90度位于哪里？", answer: "南极点" },
            
            // 比例尺
            { question: "地图上的比例尺1:10000表示什么？", answer: "图上1厘米代表实际100米" },
            { question: "地图上的比例尺1:50000表示什么？", answer: "图上1厘米代表实际500米" },
            { question: "地图上的比例尺1:100000表示什么？", answer: "图上1厘米代表实际1公里" },
            
            // 地球基本知识
            { question: "地球的形状是什么？", answer: "近似球体的椭球体" },
            { question: "地球的赤道周长大约是多少？", answer: "约4万公里" },
            { question: "地球的平均半径大约是多少？", answer: "约6371公里" },
            { question: "地球表面陆地面积约占多少？", answer: "约29%" },
            { question: "地球表面海洋面积约占多少？", answer: "约71%" },
            
            // 特殊纬线
            { question: "北回归线的纬度是多少？", answer: "北纬23.5度" },
            { question: "南回归线的纬度是多少？", answer: "南纬23.5度" },
            { question: "北极圈的纬度是多少？", answer: "北纬66.5度" },
            { question: "南极圈的纬度是多少？", answer: "南纬66.5度" },
            
            // 半球划分
            { question: "东半球和西半球的分界线是什么？", answer: "西经20度和东经160度" },
            { question: "北半球和南半球的分界线是什么？", answer: "赤道" },
            { question: "低纬度地区的纬度范围是多少？", answer: "0°-30°" },
            { question: "中纬度地区的纬度范围是多少？", answer: "30°-60°" },
            { question: "高纬度地区的纬度范围是多少？", answer: "60°-90°" },
            
            // 小学生百科题 - 地理常识
            { question: "中国的首都是哪里？", answer: "北京" },
            { question: "地球位于哪个恒星系？", answer: "太阳系" },
            { question: "中国有多少个省级行政区？", answer: "34个" },
            { question: "世界上面积最大的国家是？", answer: "俄罗斯" },
            { question: "世界上人口最多的国家是？", answer: "中国" },
            { question: "中国最长的河流是？", answer: "长江" },
            { question: "中国最大的岛屿是？", answer: "台湾岛" },
            { question: "世界上最大的海洋是？", answer: "太平洋" },
            { question: "中国最高的山峰是？", answer: "珠穆朗玛峰" },
            { question: "太阳系中最大的行星是？", answer: "木星" },
            { question: "太阳系中离太阳最近的行星是？", answer: "水星" },
            { question: "中国有多少个直辖市？", answer: "4个" },
            { question: "中国的国旗是什么颜色？", answer: "红色" },
            { question: "中国的国宝动物是？", answer: "大熊猫" },
            { question: "世界上使用人数最多的语言是？", answer: "汉语" },
            { question: "中国最大的湖泊是？", answer: "青海湖" },
            { question: "中国最长的城墙是？", answer: "万里长城" },
            { question: "太阳系中有多少颗行星？", answer: "8颗" },
            { question: "地球的天然卫星是？", answer: "月球" },
            { question: "中国有多少个民族？", answer: "56个" },
            { question: "中国最大的沙漠是？", answer: "塔克拉玛干沙漠" },
            { question: "世界上最大的洲是？", answer: "亚洲" },
            { question: "世界上最小的洲是？", answer: "大洋洲" },
            { question: "中国有多少个特别行政区？", answer: "2个" },
            { question: "中国的国花是？", answer: "牡丹" },
            { question: "世界上最高的山峰是？", answer: "珠穆朗玛峰" },
            { question: "中国最大的盆地是？", answer: "塔里木盆地" },
            { question: "中国最大的平原是？", answer: "东北平原" },
            { question: "世界上流量最大的河流是？", answer: "亚马逊河" },
            { question: "中国最长的运河是？", answer: "京杭大运河" },
            { question: "中国有多少个自治区？", answer: "5个" },
            { question: "世界上最大的岛屿是？", answer: "格陵兰岛" },
            { question: "中国最南端的省份是？", answer: "海南省" },
            { question: "太阳系中唯一有生命的行星是？", answer: "地球" },
            { question: "太阳系中唯一有液态水的行星是？", answer: "地球" }
        ];

        // 获取DOM元素
        const questionDisplay = document.getElementById('questionDisplay');
        const answerDisplay = document.getElementById('answerDisplay');
        const startBtn = document.getElementById('startBtn');
        const answerBtn = document.getElementById('answerBtn');
        const speedControl = document.getElementById('speedControl');
        const counter = document.getElementById('counter');
        const timerDisplay = document.getElementById('timer');

        // 变量初始化
        let isRunning = false;
        let intervalId = null;
        let currentQuestionIndex = -1;
        let speed = 500 - speedControl.value; // 反转值，使滑块向右移动时速度更快
        let questionCount = 0;
        let usedQuestions = []; // 记录已使用的题目索引
        let availableQuestions = [...Array(questions.length).keys()]; // 可用题目索引数组
        let countdownTimer = null;
        let timeLeft = 10;

        // 更新速度
        function updateSpeed() {
            speed = 550 - speedControl.value; // 反转值，使滑块向右移动时速度更快
            if (isRunning) {
                clearInterval(intervalId);
                startRandomSelection();
            }
        }

        // 开始随机选择题目 - 按顺序循环
        function startRandomSelection() {
            intervalId = setInterval(() => {
                // 如果所有题目都已使用过，重置可用题目
                if (availableQuestions.length === 0) {
                    availableQuestions = [...Array(questions.length).keys()];
                    usedQuestions = [];
                }
                
                // 随机选择一个可用题目
                const randomIndex = Math.floor(Math.random() * availableQuestions.length);
                currentQuestionIndex = availableQuestions[randomIndex];
                
                // 从可用题目中移除已使用的题目
                availableQuestions.splice(randomIndex, 1);
                usedQuestions.push(currentQuestionIndex);
                
                questionDisplay.textContent = questions[currentQuestionIndex].question;
            }, speed);
        }

        // 开始倒计时
        function startCountdown() {
            timeLeft = 10;
            timerDisplay.textContent = timeLeft;
            timerDisplay.style.display = 'block';
            
            countdownTimer = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    clearInterval(countdownTimer);
                    timerDisplay.style.display = 'none';
                    answerDisplay.style.display = 'none';
                    answerBtn.textContent = '显示答案';
                }
            }, 1000);
        }

        // 开始/停止按钮点击事件
        startBtn.addEventListener('click', () => {
            if (!isRunning) {
                // 开始
                isRunning = true;
                startBtn.textContent = '停止抽题';
                questionDisplay.classList.remove('selected');
                answerDisplay.style.display = 'none';
                answerBtn.textContent = '显示答案';
                timerDisplay.style.display = 'none';
                clearInterval(countdownTimer);
                startRandomSelection();
            } else {
                // 停止
                isRunning = false;
                startBtn.textContent = '开始抽题';
                clearInterval(intervalId);
                questionDisplay.classList.add('selected');
                questionCount++;
                counter.textContent = questionCount;
                
                // 开始10秒倒计时
                startCountdown();
            }
        });

        // 显示答案按钮点击事件
        answerBtn.addEventListener('click', () => {
            if (currentQuestionIndex >= 0) {
                if (answerDisplay.style.display === 'none' || answerDisplay.style.display === '') {
                    answerDisplay.textContent = "答案: " + questions[currentQuestionIndex].answer;
                    answerDisplay.style.display = 'block';
                    answerBtn.textContent = '隐藏答案';
                } else {
                    answerDisplay.style.display = 'none';
                    answerBtn.textContent = '显示答案';
                }
            } else {
                alert('请先抽取题目！');
            }
        });

        // 速度控制变化事件
        speedControl.addEventListener('input', updateSpeed);
    </script>
</body>
</html>
